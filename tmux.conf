# ============================
# Prefix (tecla de comando)
# ============================

# Cambia el prefix de Ctrl+b a Ctrl+q
set-option -g prefix C-q
# Desactiva el antiguo prefix (Ctrl+b)
unbind C-b
# Permite enviar un prefix literal (Ctrl+q) a los programas dentro de tmux
bind-key C-q send-prefix


# ============================
# Ajustes visuales generales
# ============================

# Desactiva notificaciones visuales y sonoras
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
setw -g monitor-activity off
set -g bell-action none

# Reloj en modo clock con color amarillo
setw -g clock-mode-colour yellow

# Estilo de copy-mode (cuando entras con prefix+[ )
# Fondo rojo, texto negro y en negrita
setw -g mode-style 'fg=black bg=red bold'

# ============================
# Bordes de paneles
# ============================

# Estilo de borde de panel inactivo: rojo
set -g pane-border-style 'fg=red'
# Estilo de borde de panel activo: amarillo
set -g pane-active-border-style 'fg=yellow'


# ============================
# Barra de estado
# ============================

# Barra en la parte inferior, alineación a la izquierda
set -g status-position bottom
set -g status-justify left
set -g status-style 'fg=red'

# Parte izquierda vacía
set -g status-left ''
set -g status-left-length 10

# Parte derecha con fecha y hora (YYYY-MM-DD HH:MM), fondo amarillo
set -g status-right-style 'fg=black bg=yellow'
set -g status-right '%Y-%m-%d %H:%M '
set -g status-right-length 50

# Ventana activa: texto negro sobre rojo
setw -g window-status-current-style 'fg=black bg=red'
setw -g window-status-current-format ' #I #W #F '

# Ventanas inactivas: texto rojo sobre negro
setw -g window-status-style 'fg=red bg=black'
setw -g window-status-format ' #I #[fg=white]#W #[fg=yellow]#F '

# Ventanas con "bell": texto amarillo sobre rojo
setw -g window-status-bell-style 'fg=yellow bg=red bold'

# Estilo de mensajes (ej: recargar config)
set -g message-style 'fg=yellow bg=red bold'


# ============================
# Splits y manejo de paneles
# ============================

# Crear splits con teclas más intuitivas
bind | split-window -h     # dividir verticalmente
bind - split-window -v     # dividir horizontalmente
unbind '"'                 # desactiva la combinación por defecto
unbind %                   # desactiva la combinación por defecto

# Creacion de splits heredando la ruta del directorio actual
bind-key | split-window -h -c "#{pane_current_path}"
bind-key - split-window -v -c "#{pane_current_path}"




# Recargar configuración
bind r source-file ~/.tmux.conf; display-message "~/.tmux.conf reloaded."


# ============================
# Navegación entre paneles
# ============================

# Cambiar de panel con Alt+h/j/k/l SIN prefix
bind -n M-h select-pane -L
bind -n M-l select-pane -R
bind -n M-k select-pane -U
bind -n M-j select-pane -D


# ============================
# Ratón
# ============================

# Habilita control con el ratón (click, arrastrar, etc.)
set -g mouse on


# ============================
# Ventanas
# ============================

# Desactiva renombrado automático de ventanas
set-option -g allow-rename off
# Renumeracion automatica de ventanas
set-option -g renumber-windows on

# ============================
# MISC CONFIG
# ================================
# extender el buffer del historial
set -g history-limit 11337
# Join pane a otro window con prompt
bind-key J command-prompt -p "Join pane to window:" "join-pane -t '%%'"

# Navegar ventanas como en Vim con Shift+H y Shift+L
bind -n H previous-window
bind -n L next-window

set-option -g status-left-length 25
set -g status-left "#[fg="red,bold"]#(echo 'Try Harderer ')#[fg=green,bold]#S "

# ============================
# Plugins (TPM)
# ============================

# Lista de plugins a instalar con tmux plugin manager (TPM)
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'fabioluciano/tmux-tokyo-night'

# Si se usa zsh, definir shell por defecto
# set-option -g default-shell /bin/zsh

# Inicializar TPM (siempre dejar al final del archivo)
run '~/.tmux/plugins/tpm/tpm'
